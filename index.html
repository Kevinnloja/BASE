<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visor Meteorol√≥gico - CITIAB</title>
    <link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #003366;
            --primary-dark: #001a33;
            --secondary: #0066a1;
            --light: #f8f9fa;
            --dark: #333;
            --content-color: #555;
            --station-color: #003366;
            --background: #f0f4f8;
            --card-bg: rgba(255, 255, 255, 0.97);
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
            --border-radius: 14px;
            --gray-light: #e0e0e0;
            --gray-medium: #a0a0a0;
            --gray-dark: #707070;
            --logo-unl-height: 110px;
            --logo-citiab-height: 160px;
            --logo-third-height: 80px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: var(--background);
            font-family: 'Source Sans 3', 'Segoe UI', sans-serif;
            color: var(--content-color);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            background: linear-gradient(135deg, #e0e8f0 0%, #f0f4f8 100%);
            padding: 0;
        }

        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            width: 100%;
            flex: 1;
            display: flex;
            flex-direction: column;
            padding: 0 20px;
        }

        .header-section {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
            position: relative;
        }

        .title-container {
            flex: 1;
            padding-right: 15px;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 4px;
            letter-spacing: -0.3px;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--secondary);
            max-width: 500px;
            line-height: 1.5;
            font-weight: 400;
        }

        .logos-container {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 3px;
            transition: all 0.3s ease;
        }

        .logo-container:hover {
            transform: translateY(-3px);
        }

        .logo {
            object-fit: contain;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
        }

        #unl-logo {
            height: var(--logo-unl-height);
        }

        #citiab-logo {
            height: var(--logo-citiab-height);
        }

        #third-logo {
            height: var(--logo-third-height);
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 25px;
        }

        .station-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .section-title-container {
            text-align: center;
            margin-bottom: 5px;
        }

        .section-title {
            font-size: 1.6rem;
            font-weight: 700;
            color: var(--primary);
            position: relative;
            display: inline-block;
            padding-bottom: 6px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            border-radius: 2px;
            background: var(--station-color);
        }

        .station-card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 18px;
            position: relative;
            overflow: hidden;
            border-top: 4px solid var(--station-color);
            transition: all 0.3s ease;
        }

        .station-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .station-icon {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 12px;
            flex-shrink: 0;
            animation: float 6s ease-in-out infinite;
            background: rgba(0, 51, 102, 0.1);
            color: var(--station-color);
        }

        .station-info {
            flex: 1;
        }

        .station-name {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 4px;
            color: var(--primary);
        }

        .status-indicator {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 500;
        }

        .status-online {
            background: rgba(46, 204, 113, 0.15);
            color: #27ae60;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            display: inline-block;
        }

        .status-online .status-dot {
            background: #27ae60;
        }

        .station-description {
            color: var(--content-color);
            line-height: 1.5;
            margin-bottom: 15px;
            font-size: 0.9rem;
            text-align: justify;
        }

        .station-info-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-bottom: 15px;
        }

        .info-item {
            display: flex;
            gap: 8px;
            align-items: flex-start;
        }

        .info-icon {
            font-size: 1.1rem;
            min-width: 24px;
            margin-top: 2px;
            color: var(--station-color);
        }

        .info-content h4 {
            font-weight: 600;
            margin-bottom: 2px;
            color: var(--primary);
            font-size: 0.9rem;
        }

        .info-content p {
            font-size: 0.85rem;
            color: var(--content-color);
        }

        .parameters {
            margin-bottom: 15px;
        }

        .parameters h3 {
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--primary);
            font-size: 1.05rem;
        }

        .parameter-list {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
        }

        .parameter {
            background: rgba(0, 0, 0, 0.03);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            border: 1px solid var(--gray-light);
            color: var(--primary);
        }

        .btn-station {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 8px 18px;
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            gap: 6px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.15);
            width: 100%;
            text-align: center;
            margin-top: 8px;
            animation: pulse 2s infinite;
            background: linear-gradient(135deg, var(--station-color) 0%, #001a33 100%);
        }

        .btn-station:hover {
            transform: translateY(-3px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.2);
        }

        .visual-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            height: 220px;
        }

        .map-container,
        .photo-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            overflow: hidden;
            position: relative;
            cursor: pointer;
        }

        .map-container iframe,
        .photo-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border: none;
            transition: transform 0.5s ease;
        }

        .photo-container:hover img {
            transform: scale(1.05);
        }

        .visual-label {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            padding: 6px 12px;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .map-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 4px;
            padding: 4px;
            display: flex;
            gap: 4px;
            z-index: 10;
        }

        .map-btn {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            font-size: 0.7rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .map-btn:hover {
            background: var(--primary-dark);
        }

        .footer {
            background: var(--primary-dark);
            color: var(--light);
            padding: 20px 15px 12px;
            border-radius: var(--border-radius);
            margin-top: 25px;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            text-align: center;
        }

        .footer-title {
            font-size: 1.15rem;
            font-weight: 700;
            margin-bottom: 8px;
            color: white;
        }

        .footer-description {
            color: #e0e0e0;
            line-height: 1.5;
            margin-bottom: 12px;
            font-size: 0.85rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
            text-align: center;
        }

        .contact-info {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 12px;
            margin-bottom: 12px;
            font-size: 0.8rem;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 6px;
            color: #e0e0e0;
        }

        .contact-icon {
            color: var(--secondary);
        }

        .copyright {
            text-align: center;
            padding-top: 12px;
            margin-top: 12px;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.75rem;
            opacity: 0.8;
        }

        .credits {
            text-align: center;
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid rgba(255, 255, 255, 0.15);
            font-size: 0.85rem;
            color: #a8dadc;
            font-style: italic;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            padding-top: 50px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            overflow: auto;
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 1200px;
            max-height: 80vh;
            object-fit: contain;
            animation: zoom 0.3s;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
            cursor: pointer;
        }

        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
        }

        @keyframes float {

            0%,
            100% {
                transform: translateY(0);
            }

            50% {
                transform: translateY(-6px);
            }
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        @keyframes zoom {
            from {
                transform: scale(0.5);
            }

            to {
                transform: scale(1);
            }
        }

        .update-alert {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #27ae60;
            color: white;
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            z-index: 2000;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideDown 0.5s ease-out;
        }

        @keyframes slideDown {
            from {
                top: -50px;
                opacity: 0;
            }

            to {
                top: 20px;
                opacity: 1;
            }
        }

        /* ================= IDIOMA - POSICIONAMIENTO MEJORADO ================= */
        .language-switcher {
            position: fixed;
            top: 10px;
            right: 20px;
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .btn-lang {
            background: var(--primary);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 10px 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 60px;
            justify-content: center;
        }

        .btn-lang:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-lang i {
            font-size: 1.1rem;
        }

        .lang-text-mobile {
            display: none;
        }

        /* ================= RESPONSIVE DESIGN ================= */
        @media (max-width: 1100px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .station-section {
                gap: 25px;
            }
        }

        @media (max-width: 900px) {
            .visual-section {
                grid-template-columns: 1fr;
                height: auto;
            }

            .map-container,
            .photo-container {
                height: 250px;
            }
        }

        @media (max-width: 768px) {

            /* Header adjustments */
            .header-section {
                flex-direction: column;
                padding: 15px 0;
                gap: 15px;
                text-align: center;
            }

            .title-container {
                padding-right: 0;
                padding: 0 15px;
            }

            .logos-container {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
                gap: 15px;
            }

            /* Reduce logo sizes on mobile */
            :root {
                --logo-unl-height: 80px;
                --logo-citiab-height: 120px;
                --logo-third-height: 100px;
            }

            /* Station card adjustments */
            .station-card {
                padding: 15px;
            }

            .station-info-grid {
                grid-template-columns: 1fr;
            }

            .card-header {
                flex-direction: column;
                text-align: center;
                align-items: center;
            }

            .station-icon {
                margin-right: 0;
                margin-bottom: 15px;
            }

            .status-indicator {
                justify-content: center;
            }

            .station-description {
                text-align: center;
            }

            /* Map controls */
            .map-controls {
                top: 5px;
                right: 5px;
                padding: 3px;
            }

            .map-btn {
                padding: 3px 6px;
                font-size: 0.6rem;
            }

            .update-alert {
                top: 10px;
                padding: 10px 15px;
                font-size: 0.9rem;
            }

            /* Mobile language button */
            .language-switcher {
                top: 15px;
                right: 15px;
            }

            .btn-lang {
                padding: 8px 12px;
                font-size: 0.9rem;
            }

            .lang-text-desktop {
                display: none;
            }

            .lang-text-mobile {
                display: inline;
            }
        }

        @media (max-width: 480px) {

            /* Adjustments for very small screens */
            h1 {
                font-size: 1.5rem;
            }

            .section-title {
                font-size: 1.4rem;
            }

            .station-name {
                font-size: 1.2rem;
            }

            .station-description {
                font-size: 0.85rem;
            }

            /* Improve parameter display */
            .parameter-list {
                justify-content: center;
            }

            .parameter {
                padding: 4px 10px;
            }

            /* Footer adjustments */
            .contact-info {
                flex-direction: column;
                align-items: center;
            }

            .footer {
                padding: 15px 10px;
            }

            .footer-title {
                font-size: 1rem;
            }

            .credits {
                font-size: 0.8rem;
            }

            /* Modal adjustments */
            .modal-content {
                width: 95%;
            }

            .close {
                top: 10px;
                right: 15px;
                font-size: 30px;
            }

            .update-alert {
                width: 90%;
                text-align: center;
                padding: 8px 12px;
                font-size: 0.8rem;
            }

            /* Mobile language button */
            .language-switcher {
                top: 10px;
                right: 10px;
            }

            .btn-lang {
                padding: 6px 10px;
                font-size: 0.8rem;
                min-width: 50px;
            }
        }

        /* Responsive indicator animation */
        .responsive-indicator {
            display: none;
            position: fixed;
            bottom: 10px;
            right: 10px;
            background: rgba(0, 51, 102, 0.9);
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.8rem;
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        }

        @media (max-width: 768px) {
            .responsive-indicator {
                display: block;
                animation: slideIn 0.5s ease-out;
            }
        }

        @keyframes slideIn {
            from {
                transform: translateX(100%);
                opacity: 0;
            }

            to {
                transform: translateX(0);
                opacity: 1;
            }
        }
    </style>
</head>

<body>
    <!-- Bot√≥n de traducci√≥n en posici√≥n fija -->
    <div class="language-switcher">
        <button id="languageButton" class="btn-lang">
            <i class="fas fa-globe"></i>
            <span id="lang-text" class="lang-text-desktop">ES</span>
            <span id="lang-text-mobile" class="lang-text-mobile"></span>
        </button>
        <br>
    </div>
       
    <div class="app-container">
        <header class="header-section">
            <div class="title-container">
                <h1 id="page-title">Visor Meteorol√≥gico CITIAB</h1>
                <div class="subtitle" id="page-subtitle">Monitoreo de variables meteorol√≥gicas en tiempo real</div>
            </div>

            <div class="logos-container">
                <div class="logo-container">
                    <img src="https://joinforwater.ngo/wp-content/uploads/2022/05/logo-unl-HC-01-e1651758359420.png"
                        class="logo" alt="Logo UNL" id="unl-logo">
                </div>
                <div class="logo-container">
                    <img src="https://unl.edu.ec/sites/default/files/inline-images/logo%20citiab%202%20%281%29.png"
                        class="logo" alt="Logo CITIAB" id="citiab-logo">
                </div>
                <div class="logo-container">
                    <img src="https://i.ibb.co/M5yd0kZJ/472789761-1105565828029024-3870823381710171305-n-1.jpg"
                        class="logo" alt="Logo Direcci√≥n de Investigaci√≥n" id="third-logo">
                </div>
            </div>
        </header>

        <main class="main-content">
            <section class="station-section">
                <div class="section-title-container">
                    <h2 class="section-title" id="station1-title">Estaci√≥n Parque Universitario Francisco Vivar Castro
                    </h2>
                </div>

                <div class="station-card">
                    <div class="card-header">
                        <div class="station-icon">
                            <i class="fas fa-mountain"></i>
                        </div>
                        <div class="station-info">
                            <h3 class="station-name" id="station1-name">Ecosistema: Matorral Andino</h3>
                            <div class="status-indicator status-online">
                                <span class="status-dot"></span>
                                <span id="station1-status">En l√≠nea - Datos actualizados</span>
                            </div>
                        </div>
                    </div>

                    <p class="station-description" id="station1-desc">
                        La estaci√≥n meteorol√≥gica del Parque Universitario Francisco Vivar Castro (PUFVC) de la
                        Universidad Nacional de Loja (UNL) est√° equipada con sensores de alta precisi√≥n y cumple con los
                        est√°ndares establecidos por la Organizaci√≥n Meteorol√≥gica Mundial (OMM). Su localizaci√≥n
                        estrat√©gica y operatividad continua, junto con el uso del sistema de transmisi√≥n LoRaWAN, son
                        clave para la investigaci√≥n clim√°tica y el monitoreo ambiental en el sur del Ecuador.
                    </p>

                    <div class="station-info-grid">
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-location">Ubicaci√≥n</h4>
                                <p id="station1-location">Sector PUFVC</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-mountain info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-altitude">Altitud</h4>
                                <p id="station1-altitude">2469 msnm</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-latitude">Latitud</h4>
                                <p id="station1-latitude">4¬∞02'17.3"S</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-longitude">Longitud</h4>
                                <p id="station1-longitude">79¬∞11'18.3"W</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-calendar-alt info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-start">Inicio de transmisi√≥n</h4>
                                <p id="station1-start">Junio 2025</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-sync-alt info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-frequency">Frecuencia de datos</h4>
                                <p id="station1-frequency">Cada minuto</p>
                            </div>
                        </div>
                    </div>

                    <div class="parameters">
                        <h3 id="parameters-title">Par√°metros medidos</h3>
                        <div class="parameter-list" id="station1-parameters">
                            <span class="parameter">Temperatura del aire</span>
                            <span class="parameter">Humedad relativa</span>
                            <span class="parameter">Precipitaci√≥n</span>
                            <span class="parameter">Radiaci√≥n solar</span>
                        </div>
                    </div>

                    <a href="https://web-puear.vercel.app/" class="btn-station" target="_blank">
                        <i class="fas fa-chart-line"></i> <span id="view-data">Ver datos en tiempo real</span>
                    </a>
                </div>

                <div class="visual-section">
                    <div class="map-container">
                        <iframe
                            src="https://maps.google.com/maps?q=-4.03814885,-79.18840381&z=15&output=embed&t=k&markers=color:blue|label:P|-4.03814885,-79.18840381"></iframe>
                        <div class="visual-label" id="satellite-view">Vista satelital de la ubicaci√≥n</div>
                        <div class="map-controls">
                            <button class="map-btn" onclick="changeMapView(this, 'puear', 'satellite')">
                                <span id="btn-satellite">Sat√©lite</span>
                            </button>
                            <button class="map-btn" onclick="changeMapView(this, 'puear', 'map')">
                                <span id="btn-map">Mapa</span>
                            </button>
                            <button class="map-btn" onclick="changeMapView(this, 'puear', 'hybrid')">
                                <span id="btn-hybrid">H√≠brido</span>
                            </button>
                        </div>
                    </div>

                    <div class="photo-container" onclick="openModal('https://i.ibb.co/3mKFTvM8/PUEAR.png')">
                        <img src="https://i.ibb.co/3mKFTvM8/PUEAR.png" alt="Estaci√≥n PUFVC">
                        <div class="visual-label" id="station-view">Vista de la estaci√≥n meteorol√≥gica</div>
                    </div>
                </div>
            </section>

            <section class="station-section">
                <div class="section-title-container">
                    <h2 class="section-title" id="station2-title">Estaci√≥n Tapichalaca</h2>
                </div>

                <div class="station-card">
                    <div class="card-header">
                        <div class="station-icon">
                            <i class="fas fa-tree"></i>
                        </div>
                        <div class="station-info">
                            <h3 class="station-name" id="station2-name">
                                Ecosistema: Bosque Siempre Verde Montano
                            </h3>
                            <div class="status-indicator status-online">
                                <span class="status-dot"></span>
                                <span id="station2-status">En l√≠nea - Datos actualizados</span>
                            </div>
                        </div>
                    </div>

                    <p class="station-description" id="station2-desc">
                        La estaci√≥n meteorol√≥gica ubicada en la Reserva Tapichalaca de la Fundaci√≥n Jocotoco, en Zamora
                        Chinchipe, es gestionada por la Universidad Nacional de Loja (UNL) a trav√©s del CITIAB. Fue
                        implementada en el marco del proyecto CUIDAR y est√° equipada con sensores de alta precisi√≥n que
                        cumplen con los est√°ndares establecidos por la Organizaci√≥n Meteorol√≥gica Mundial (OMM), adem√°s
                        de un sistema de transmisi√≥n de datos en tiempo real mediante conectividad WiFi.
                    </p>

                    <div class="station-info-grid">
                        <div class="info-item">
                            <i class="fas fa-map-marker-alt info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-location2">Ubicaci√≥n</h4>
                                <p id="station2-location">Cant√≥n Palanda en la reserva Tapichalaca</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-mountain info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-altitude2">Altitud</h4>
                                <p id="station2-altitude">2646 msnm</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-latitude2">Latitud</h4>
                                <p id="station2-latitude">4¬∞29'32.6"S</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-map info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-longitude2">Longitud</h4>
                                <p id="station2-longitude">79¬∞07'56.6"W</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-calendar-alt info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-start2">Inicio de transmisi√≥n</h4>
                                <p id="station2-start">Julio 2025</p>
                            </div>
                        </div>
                        <div class="info-item">
                            <i class="fas fa-sync-alt info-icon"></i>
                            <div class="info-content">
                                <h4 id="info-frequency2">Frecuencia de datos</h4>
                                <p id="station2-frequency">Cada minuto</p>
                            </div>
                        </div>
                    </div>

                    <div class="parameters">
                        <h3 id="parameters-title2">Par√°metros medidos</h3>
                        <div class="parameter-list" id="station2-parameters">
                            <span class="parameter">Temperatura del aire</span>
                            <span class="parameter">Humedad relativa</span>
                            <span class="parameter">Precipitaci√≥n</span>
                            <span class="parameter">Radiaci√≥n solar</span>
                        </div>
                    </div>

                    <a href="https://web-tapichalaca.vercel.app/" class="btn-station" target="_blank">
                        <i class="fas fa-chart-line"></i> <span id="view-data2">Ver datos en tiempo real</span>
                    </a>
                </div>

                <div class="visual-section">
                    <div class="map-container">
                        <iframe
                            src="https://maps.google.com/maps?q=-4.492375,-79.132389&z=15&output=embed&t=k&markers=color:blue|label:T|-4.492375,-79.132389"></iframe>
                        <div class="visual-label" id="satellite-view2">Vista satelital de la ubicaci√≥n</div>
                        <div class="map-controls">
                            <button class="map-btn" onclick="changeMapView(this, 'tapichalaca', 'satellite')">
                                <span id="btn-satellite2">Sat√©lite</span>
                            </button>
                            <button class="map-btn" onclick="changeMapView(this, 'tapichalaca', 'map')">
                                <span id="btn-map2">Mapa</span>
                            </button>
                            <button class="map-btn" onclick="changeMapView(this, 'tapichalaca', 'hybrid')">
                                <span id="btn-hybrid2">H√≠brido</span>
                            </button>
                        </div>
                    </div>

                    <div class="photo-container"
                        onclick="openModal('https://i.ibb.co/b5yX0gxb/1000px-x1000px-Post-de-Facebook.png')">
                        <img src="https://i.ibb.co/b5yX0gxb/1000px-x1000px-Post-de-Facebook.png"
                            alt="Estaci√≥n Tapichalaca">
                        <div class="visual-label" id="station-view2">Vista de la estaci√≥n meteorol√≥gica</div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <div class="footer-content">
                <h3 class="footer-title" id="footer-title">Centro de Investigaciones Tropicales del Ambiente y
                    Biodiversidad (CITIAB)</h3>
                <p class="footer-description" id="footer-desc">
                    Investigamos biodiversidad, restauraci√≥n de paisajes, servicios ecosist√©micos, hidrolog√≠a y cambio
                    clim√°tico para contribuir al conocimiento cient√≠fico y la conservaci√≥n ambiental.
                </p>

                <div class="contact-info">
                    <div class="contact-item">
                        <i class="fas fa-map-marker-alt contact-icon"></i>
                        <span id="footer-address">Ciudad Universitaria Guillermo Falcon√≠ Edificio 82 Segundo Piso - Loja - Ecuador</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-phone contact-icon"></i>
                        <span>07 2593550</span>
                    </div>
                    <div class="contact-item">
                        <i class="fas fa-envelope contact-icon"></i>
                        <span>comunicacion@unl.edu.ec</span>
                    </div>
                </div>

                <div class="credits" id="footer-credits">
                    Desarrollado por el Ing. Kevin David Loja Sarmiento en colaboraci√≥n del Mgs. Juan Dario Quinde y el
                    Centro de Investigaci√≥n CITIAB
                </div>

                <div class="copyright" id="footer-copyright">
                    &copy; 2025 CITIAB - Universidad Nacional de Loja. Todos los derechos reservados.
                </div>
            </div>
        </footer>
    </div>

    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="expandedImg">
    </div>

    <div class="responsive-indicator">
        <i class="fas fa-mobile-alt"></i> Modo M√≥vil Activado
    </div>

    <script>
        // Sistema de traducci√≥n triling√ºe (ES, EN, PT)
        const translations = {
            es: {
                title: "Visor Meteorol√≥gico CITIAB",
                subtitle: "Monitoreo de variables meteorol√≥gicas en tiempo real",
                station1Title: "Estaci√≥n Parque Universitario Francisco Vivar Castro",
                station1Name: "Ecosistema: Matorral Andino",
                station1Status: "En l√≠nea - Datos actualizados",
                station1Desc: "La estaci√≥n meteorol√≥gica del Parque Universitario Francisco Vivar Castro (PUFVC) de la Universidad Nacional de Loja (UNL) est√° equipada con sensores de alta precisi√≥n y cumple con los est√°ndares establecidos por la Organizaci√≥n Meteorol√≥gica Mundial (OMM). Su localizaci√≥n estrat√©gica y operatividad continua, junto con el uso del sistema de transmisi√≥n LoRaWAN, son clave para la investigaci√≥n clim√°tica y el monitoreo ambiental en el sur del Ecuador.",
                location: "Ubicaci√≥n",
                altitude: "Altitud",
                latitude: "Latitud",
                longitude: "Longitud",
                start: "Inicio de transmisi√≥n",
                frequency: "Frecuencia de datos",
                parameters: "Par√°metros medidos",
                viewData: "Ver datos en tiempo real",
                satelliteView: "Vista satelital de la ubicaci√≥n",
                stationView: "Vista de la estaci√≥n meteorol√≥gica",
                satellite: "Sat√©lite",
                map: "Mapa",
                hybrid: "H√≠brido",
                station2Title: "Estaci√≥n Tapichalaca",
                station2Name: "Ecosistema: Bosque Siempre Verde Montano",
                station2Status: "En l√≠nea - Datos actualizados",
                station2Desc: "La estaci√≥n meteorol√≥gica ubicada en la Reserva Tapichalaca de la Fundaci√≥n Jocotoco, en Zamora Chinchipe, es gestionada por la Universidad Nacional de Loja (UNL) a trav√©s del CITIAB. Fue implementada en el marco del proyecto CUIDAR y est√° equipada con sensores de alta precisi√≥n que cumplen con los est√°ndares establecidos por la Organizaci√≥n Meteorol√≥gica Mundial (OMM), adem√°s de un sistema de transmisi√≥n de datos en tiempo real mediante conectividad WiFi.",
                footerTitle: "Centro de Investigaciones Tropicales del Ambiente y Biodiversidad (CITIAB)",
                footerDesc: "Investigamos biodiversidad, restauraci√≥n de paisajes, servicios ecosist√©micos, hidrolog√≠a y cambio clim√°tico para contribuir al conocimiento cient√≠fico y la conservaci√≥n ambiental.",
                footerCredits: "Desarrollado por el Ing. Kevin David Loja Sarmiento en colaboraci√≥n del Mgs. Juan Dario Quinde y el Centro de Investigaci√≥n CITIAB",
                footerCopyright: "&copy; 2025 CITIAB - Universidad Nacional de Loja. Todos los derechos reservados.",
                footerAddress: "Ciudad Universitaria Guillermo Falcon√≠ - Loja - Ecuador",
                langText: "ES",
                station1Location: "Sector PUFVC",
                station1Altitude: "2469 msnm",
                station1Latitude: "4¬∞02'17.3\"S",
                station1Longitude: "79¬∞11'18.3\"W",
                station1Start: "Junio 2025",
                station1Frequency: "Cada minuto",
                station1Parameters: ["Temperatura del aire", "Humedad relativa", "Precipitaci√≥n", "Radiaci√≥n solar"],
                station2Location: "Cant√≥n Palanda en la reserva Tapichalaca",
                station2Altitude: "2646 msnm",
                station2Latitude: "4¬∞29'32.6\"S",
                station2Longitude: "79¬∞07'56.6\"W",
                station2Start: "Julio 2025",
                station2Frequency: "Cada minuto",
                station2Parameters: ["Temperatura del aire", "Humedad relativa", "Precipitaci√≥n", "Radiaci√≥n solar"]
            },
            en: {
                title: "CITIAB Weather Viewer",
                subtitle: "Real-time meteorological variables monitoring",
                station1Title: "Francisco Vivar Castro University Park Station",
                station1Name: "Ecosystem: Andean Shrubland",
                station1Status: "Online - Updated data",
                station1Desc: "The meteorological station at the Francisco Vivar Castro University Park (PUFVC) of the National University of Loja (UNL) is equipped with high-precision sensors and complies with the standards established by the World Meteorological Organization (WMO). Its strategic location and continuous operation, along with the use of the LoRaWAN transmission system, are key for climate research and environmental monitoring in southern Ecuador.",
                location: "Location",
                altitude: "Altitude",
                latitude: "Latitude",
                longitude: "Longitude",
                start: "Transmission start",
                frequency: "Data frequency",
                parameters: "Measured parameters",
                viewData: "View real-time data",
                satelliteView: "Satellite view of location",
                stationView: "View of the weather station",
                satellite: "Satellite",
                map: "Map",
                hybrid: "Hybrid",
                station2Title: "Tapichalaca Station",
                station2Name: "Ecosystem: Evergreen Montane Forest",
                station2Status: "Online - Updated data",
                station2Desc: "The weather station located in the Tapichalaca Reserve of the Jocotoco Foundation in Zamora Chinchipe is managed by the National University of Loja (UNL) through CITIAB. It was implemented as part of the CUIDAR project and is equipped with high-precision sensors that meet the standards established by the World Meteorological Organization (WMO), in addition to a real-time data transmission system via WiFi connectivity.",
                footerTitle: "Center for Tropical Research on Environment and Biodiversity (CITIAB)",
                footerDesc: "We research biodiversity, landscape restoration, ecosystem services, hydrology and climate change to contribute to scientific knowledge and environmental conservation.",
                footerCredits: "Developed by Eng. Kevin David Loja Sarmiento in collaboration with Mgs. Juan Dario Quinde and the CITIAB Research Center",
                footerCopyright: "&copy; 2025 CITIAB - National University of Loja. All rights reserved.",
                footerAddress: "Guillermo Falcon√≠ University City - Loja - Ecuador",
                langText: "EN",
                station1Location: "PUFVC Sector",
                station1Altitude: "2469 masl",
                station1Latitude: "4¬∞02'17.3\"S",
                station1Longitude: "79¬∞11'18.3\"W",
                station1Start: "June 2025",
                station1Frequency: "Every minute",
                station1Parameters: ["Air temperature", "Relative humidity", "Precipitation", "Solar radiation"],
                station2Location: "Palanda Canton in the Tapichalaca reserve",
                station2Altitude: "2646 masl",
                station2Latitude: "4¬∞29'32.6\"S",
                station2Longitude: "79¬∞07'56.6\"W",
                station2Start: "July 2025",
                station2Frequency: "Every minute",
                station2Parameters: ["Air temperature", "Relative humidity", "Precipitation", "Solar radiation"]
            },
            pt: {
                title: "Visualizador Meteorol√≥gico CITIAB",
                subtitle: "Monitoramento de vari√°veis meteorol√≥gicas em tempo real",
                station1Title: "Esta√ß√£o Parque Universit√°rio Francisco Vivar Castro",
                station1Name: "Ecossistema: Arbustivo Andino",
                station1Status: "Online - Dados atualizados",
                station1Desc: "A esta√ß√£o meteorol√≥gica do Parque Universit√°rio Francisco Vivar Castro (PUFVC) da Universidade Nacional de Loja (UNL) est√° equipada com sensores de alta precis√£o e cumpre com os padr√µes estabelecidos pela Organiza√ß√£o Meteorol√≥gica Mundial (OMM). Sua localiza√ß√£o estrat√©gica e opera√ß√£o cont√≠nua, juntamente com o uso do sistema de transmiss√£o LoRaWAN, s√£o fundamentais para a pesquisa clim√°tica e o monitoramento ambiental no sul do Equador.",
                location: "Localiza√ß√£o",
                altitude: "Altitude",
                latitude: "Latitude",
                longitude: "Longitude",
                start: "In√≠cio da transmiss√£o",
                frequency: "Frequ√™ncia dos dados",
                parameters: "Par√¢metros medidos",
                viewData: "Ver dados em tempo real",
                satelliteView: "Vis√£o de sat√©lite da localiza√ß√£o",
                stationView: "Vista da esta√ß√£o meteorol√≥gica",
                satellite: "Sat√©lite",
                map: "Mapa",
                hybrid: "H√≠brido",
                station2Title: "Esta√ß√£o Tapichalaca",
                station2Name: "Ecossistema: Floresta Montana Sempre-Verde",
                station2Status: "Online - Dados atualizados",
                station2Desc: "A esta√ß√£o meteorol√≥gica localizada na Reserva Tapichalaca da Funda√ß√£o Jocotoco, em Zamora Chinchipe, √© gerenciada pela Universidade Nacional de Loja (UNL) atrav√©s do CITIAB. Foi implementada no √¢mbito do projeto CUIDAR e est√° equipada com sensores de alta precis√£o que cumprem os padr√µes estabelecidos pela Organiza√ß√£o Meteorol√≥gica Mundial (OMM), al√©m de um sistema de transmiss√£o de dados em tempo real por meio de conectividade WiFi.",
                footerTitle: "Centro de Pesquisas Tropicais em Ambiente e Biodiversidade (CITIAB)",
                footerDesc: "Pesquisamos biodiversidade, restaura√ß√£o de paisagens, servi√ßos ecossist√™micos, hidrologia e mudan√ßas clim√°ticas para contribuir com o conhecimento cient√≠fico e a conserva√ß√£o ambiental.",
                footerCredits: "Desenvolvido pelo Eng. Kevin David Loja Sarmiento em colabora√ß√£o com o Mgs. Juan Dario Quinde e o Centro de Pesquisa CITIAB",
                footerCopyright: "&copy; 2025 CITIAB - Universidade Nacional de Loja. Todos os direitos reservados.",
                footerAddress: "Cidade Universit√°ria Guillermo Falcon√≠ - Loja - Equador",
                langText: "PT",
                station1Location: "Setor PUFVC",
                station1Altitude: "2469 msnm",
                station1Latitude: "4¬∞02'17.3\"S",
                station1Longitude: "79¬∞11'18.3\"W",
                station1Start: "Junho de 2025",
                station1Frequency: "A cada minuto",
                station1Parameters: ["Temperatura do ar", "Umidade relativa", "Precipita√ß√£o", "Radia√ß√£o solar"],
                station2Location: "Cant√£o Palanda na reserva Tapichalaca",
                station2Altitude: "2646 msnm",
                station2Latitude: "4¬∞29'32.6\"S",
                station2Longitude: "79¬∞07'56.6\"W",
                station2Start: "Julho de 2025",
                station2Frequency: "A cada minuto",
                station2Parameters: ["Temperatura do ar", "Umidade relativa", "Precipita√ß√£o", "Radia√ß√£o solar"]
            }
        };

        let currentLang = 'es'; // Idioma por defecto

        function changeLanguage() {
            // Rotar entre los idiomas: es -> en -> pt -> es ...
            const languages = ['es', 'en', 'pt'];
            const currentIndex = languages.indexOf(currentLang);
            currentLang = languages[(currentIndex + 1) % languages.length];

            // Actualizar textos
            document.getElementById('page-title').textContent = translations[currentLang].title;
            document.getElementById('page-subtitle').textContent = translations[currentLang].subtitle;
            document.getElementById('station1-title').textContent = translations[currentLang].station1Title;
            document.getElementById('station1-name').textContent = translations[currentLang].station1Name;
            document.getElementById('station1-status').textContent = translations[currentLang].station1Status;
            document.getElementById('station1-desc').textContent = translations[currentLang].station1Desc;
            document.getElementById('info-location').textContent = translations[currentLang].location;
            document.getElementById('info-altitude').textContent = translations[currentLang].altitude;
            document.getElementById('info-latitude').textContent = translations[currentLang].latitude;
            document.getElementById('info-longitude').textContent = translations[currentLang].longitude;
            document.getElementById('info-start').textContent = translations[currentLang].start;
            document.getElementById('info-frequency').textContent = translations[currentLang].frequency;
            document.getElementById('parameters-title').textContent = translations[currentLang].parameters;
            document.getElementById('view-data').textContent = translations[currentLang].viewData;
            document.getElementById('satellite-view').textContent = translations[currentLang].satelliteView;
            document.getElementById('station-view').textContent = translations[currentLang].stationView;
            document.getElementById('btn-satellite').textContent = translations[currentLang].satellite;
            document.getElementById('btn-map').textContent = translations[currentLang].map;
            document.getElementById('btn-hybrid').textContent = translations[currentLang].hybrid;
            document.getElementById('station2-title').textContent = translations[currentLang].station2Title;
            document.getElementById('station2-name').textContent = translations[currentLang].station2Name;
            document.getElementById('station2-status').textContent = translations[currentLang].station2Status;
            document.getElementById('station2-desc').textContent = translations[currentLang].station2Desc;
            document.getElementById('info-location2').textContent = translations[currentLang].location;
            document.getElementById('info-altitude2').textContent = translations[currentLang].altitude;
            document.getElementById('info-latitude2').textContent = translations[currentLang].latitude;
            document.getElementById('info-longitude2').textContent = translations[currentLang].longitude;
            document.getElementById('info-start2').textContent = translations[currentLang].start;
            document.getElementById('info-frequency2').textContent = translations[currentLang].frequency;
            document.getElementById('parameters-title2').textContent = translations[currentLang].parameters;
            document.getElementById('view-data2').textContent = translations[currentLang].viewData;
            document.getElementById('satellite-view2').textContent = translations[currentLang].satelliteView;
            document.getElementById('station-view2').textContent = translations[currentLang].stationView;
            document.getElementById('btn-satellite2').textContent = translations[currentLang].satellite;
            document.getElementById('btn-map2').textContent = translations[currentLang].map;
            document.getElementById('btn-hybrid2').textContent = translations[currentLang].hybrid;
            document.getElementById('footer-title').textContent = translations[currentLang].footerTitle;
            document.getElementById('footer-desc').textContent = translations[currentLang].footerDesc;
            document.getElementById('footer-credits').textContent = translations[currentLang].footerCredits;
            document.getElementById('footer-copyright').innerHTML = translations[currentLang].footerCopyright;
            document.getElementById('footer-address').textContent = translations[currentLang].footerAddress;
            document.getElementById('lang-text').textContent = translations[currentLang].langText;
            document.getElementById('lang-text-mobile').textContent = translations[currentLang].langText;
            
            // Actualizar detalles espec√≠ficos de la estaci√≥n 1
            document.getElementById('station1-location').textContent = translations[currentLang].station1Location;
            document.getElementById('station1-altitude').textContent = translations[currentLang].station1Altitude;
            document.getElementById('station1-latitude').textContent = translations[currentLang].station1Latitude;
            document.getElementById('station1-longitude').textContent = translations[currentLang].station1Longitude;
            document.getElementById('station1-start').textContent = translations[currentLang].station1Start;
            document.getElementById('station1-frequency').textContent = translations[currentLang].station1Frequency;
            
            // Actualizar detalles espec√≠ficos de la estaci√≥n 2
            document.getElementById('station2-location').textContent = translations[currentLang].station2Location;
            document.getElementById('station2-altitude').textContent = translations[currentLang].station2Altitude;
            document.getElementById('station2-latitude').textContent = translations[currentLang].station2Latitude;
            document.getElementById('station2-longitude').textContent = translations[currentLang].station2Longitude;
            document.getElementById('station2-start').textContent = translations[currentLang].station2Start;
            document.getElementById('station2-frequency').textContent = translations[currentLang].station2Frequency;
            
            // Actualizar par√°metros medidos
            updateParameters('station1-parameters', translations[currentLang].station1Parameters);
            updateParameters('station2-parameters', translations[currentLang].station2Parameters);
        }
        
        function updateParameters(containerId, parameters) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            parameters.forEach(param => {
                const span = document.createElement('span');
                span.className = 'parameter';
                span.textContent = param;
                container.appendChild(span);
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Efecto hover para las tarjetas
            const cards = document.querySelectorAll('.station-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function () {
                    this.style.transform = 'translateY(-8px)';
                });

                card.addEventListener('mouseleave', function () {
                    this.style.transform = 'translateY(0)';
                });
            });

            // Ocultar alerta despu√©s de 5 segundos
            setTimeout(() => {
                const alert = document.querySelector('.update-alert');
                if (alert) alert.style.display = 'none';
            }, 5000);

            // Configurar bot√≥n de idioma
            document.getElementById('languageButton').addEventListener('click', changeLanguage);
        });

        // Funciones para el modal de im√°genes
        function openModal(imgSrc) {
            document.getElementById("expandedImg").src = imgSrc;
            document.getElementById("imageModal").style.display = "block";
        }

        function closeModal() {
            document.getElementById("imageModal").style.display = "none";
        }

        // Cerrar modal al hacer clic fuera de la imagen
        window.onclick = function (event) {
            const modal = document.getElementById('imageModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        // Cerrar modal con tecla ESC
        document.addEventListener('keydown', function (event) {
            if (event.key === "Escape") {
                closeModal();
            }
        });

        // Cambiar vista del mapa
        function changeMapView(btn, station, viewType) {
            const mapContainer = btn.closest('.map-container');
            const iframe = mapContainer.querySelector('iframe');

            // Desactivar todos los botones
            const buttons = mapContainer.querySelectorAll('.map-btn');
            buttons.forEach(b => b.style.background = 'var(--primary)');

            // Activar bot√≥n seleccionado
            btn.style.background = 'var(--primary-dark)';

            // Coordenadas de las estaciones
            const stations = {
                'puear': { lat: -4.03814885, lng: -79.18840381 },
                'tapichalaca': { lat: -4.492375, lng: -79.132389 }
            };

            // Par√°metro para vista
            let tParam = 'k'; // Sat√©lite por defecto
            if (viewType === 'map') tParam = 'm';
            if (viewType === 'hybrid') tParam = 'h';

            // Actualizar iframe
            iframe.src = `https://maps.google.com/maps?q=${stations[station].lat},${stations[station].lng}&z=15&output=embed&t=${tParam}&markers=color:blue|label:${station.charAt(0).toUpperCase()}|${stations[station].lat},${stations[station].lng}`;
        }

        // Detectar orientaci√≥n de pantalla
        function detectOrientation() {
            if (window.innerHeight > window.innerWidth) {
                document.querySelector('.responsive-indicator').innerHTML = '<i class="fas fa-mobile-alt"></i> Modo Vertical';
            } else {
                document.querySelector('.responsive-indicator').innerHTML = '<i class="fas fa-mobile-alt"></i> Modo Horizontal';
            }
        }

        window.addEventListener('resize', detectOrientation);
        detectOrientation();
    </script>
</body>

</html>
